{% extends "base.html" %}

{% block title %}Reportes{% endblock %}

{% block content %}
<!-- Page Header -->
<h1 class="text-3xl font-semibold text-slate-900 mb-6">Generar Reportes</h1>

<!-- Report Generation Card -->
<div class="bg-white p-6 rounded-lg shadow-lg max-w-3xl mx-auto">
    <form class="report-form" action="/exportar" method="GET">
        <div class="flex flex-col sm:flex-row sm:items-end sm:space-x-4 space-y-4 sm:space-y-0">
            
            <!-- Region Filter -->
            <div class="flex-1">
                <label for="region" class="block text-sm font-medium text-slate-700">Región</label>
                <select id="region" name="region" class="mt-1 block w-full p-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    <option value="">Todas las Regiones</option>
                    <option>Norte</option>
                    <option>Sur</option>
                </select>
            </div>
            
            <!-- Month Filter -->
            <div class="flex-1">
                <label for="mes" class="block text-sm font-medium text-slate-700">Mes</label>
                <select id="mes" name="mes" class="mt-1 block w-full p-2 border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    <option value="">Todos los Meses</option>
                    <option>01-2025</option>
                    <option>02-2025</option>
                    <!-- Add more months dynamically if needed -->
                </select>
            </div>
            
            <!-- Export Button -->
            <button type="submit"
                    class="w-full sm:w-auto flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors">
                Exportar CSV
            </button>
            
            <!-- Tooltip -->
            <div class="relative group hidden sm:block">
                <span class="text-slate-400 cursor-help">
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                </span>
                <div class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 bg-slate-800 text-white text-xs rounded-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10">
                    Selecciona los parámetros para filtrar los datos y exportar un archivo CSV para análisis.
                    <div class="absolute w-3 h-3 bg-slate-800 rotate-45 -bottom-1 left-1/2 -translate-x-1/2"></div> <!-- Tooltip arrow -->
                </div>
            </div>
            
        </div>
    </form>
</div>
{% endblock %}